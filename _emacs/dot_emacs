;;emacså‚æ•°
;; -nw ä¸ä½¿ç”¨å›¾å½¢ç•Œé¢ -no-window
;; -q  ä¸åŠ è½½é…ç½®æ–‡ä»¶
;; --debug-init

;;;; æ·»åŠ Emacsæœç´¢è·¯å¾„
(add-to-list 'load-path "~/_emacs")
(add-to-list 'load-path "~/install/ecb-2.40")
(add-to-list 'load-path "~/_emacs/codepilot")
(add-to-list 'load-path "~/_emacs/emacs-eclim")
(add-to-list 'load-path "~/_emacs/icicles")
(add-to-list 'load-path "~/_emacs/gnuserv")

;;æ¨¡æ¿åŠŸèƒ½
(add-to-list 'load-path "~/install/yasnippet-0.6.1c")
;;è‡ªåŠ¨è¡¥å…¨
(add-to-list 'load-path "~/install/auto-complete-1.3.1")
(require 'auto-complete-config)
(add-to-list 'ac-dictionary-directories "~/install/auto-complete-1.3.1/dict")
(ac-config-default)

;;;;è¯»å–è„šæœ¬
(load "base.el")
(load "cyexpand.el")
(load "cykbd.el")
(load "addon.el")

;;ä¸ºäº†ç¼–ç¨‹çš„é…ç½®
(load "cycode.el")

;;ecbè‡ªåŠ¨æ·»åŠ ===============================================================
(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 '(ecb-options-version "2.40"))
(custom-set-faces
  ;; custom-set-faces was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 )
 
;;ecbè‡ªåŠ¨æ·»åŠ ç»“æŸ============================================================
;;========================
(defun runperl()
  "run perl,Ã¦‰Â§Ã¨Â¡ŒÃ¥Â½“Ã¥‰Ã§Â¼“Ã¥†Â²Ã¥ŒÂºÃ§š„PerlÃ§Â¨‹Ã¥Âº"
  (interactive)
  ;(save-buffer)
  (let ((filename buffer-file-name)
 (cmd "")
 (oldbuf (current-buffer))
 (end (point-max)))
    (if filename
 (save-buffer)
      (save-excursion
 (setq filename (concat (getenv "tmp") "/temp.pl"))
 (set-buffer (create-file-buffer filename))
 (insert-buffer-substring oldbuf 1 end)
 (write-file filename)
 (kill-buffer (current-buffer))))
    (setq cmd (concat "perl -w " filename))
    (message "%s  ..." cmd)
    (shell-command cmd)))
(global-set-key[(meta o)] 'runperl) ;bind-key alt+o:runperl
;;============================================================
